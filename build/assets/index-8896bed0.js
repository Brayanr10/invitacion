import{_ as b,S as u,o as d,c as r,a as y,f as k,g as p,b as t,F as E,j as S,u as f,i as l,t as _,k as B,v as T,n as L,r as v,p as z,e as I,m as g,d as N}from"./app-af524dac.js";const V={data(){return{modal:{active:!1,name:null,size:"md"},shownavbar:!0,events:[],loader:!1}},mounted(){this.getdata(),document.addEventListener("click",this.closedrop)},beforeUnmount(){document.removeEventListener("click",this.closedrop)},methods:{async getdata(){try{this.loader=!0;const s=await axios.get("/client/getevents");this.events=s.data.events,this.loader=!1}catch(s){console.error("Error searching types:",s),this.loader=!1}},addeventmodal(){this.modal.name="addevent",this.modal.size="lg",this.activemodal()},async delete_event(s){u.fire({title:"¿Seguro que deseas eliminar: "+s.type.name+" de "+s.name+" ("+s.date+")?",text:"Se perderán todos los datos del evento y los links generados",icon:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No",customClass:{container:"xp-sweet-container-xs"}}).then(async o=>{if(o.value){this.loader=!0;try{const c={id:s.id},m=await axios.post("/client/event/delete",c);this.notification("Evento eliminado exitosamente","success"),this.getdata(),this.loader=!1}catch(c){console.log(c),this.loader=!1,this.notification("Se ha presentado un error","error")}}})},activemodal(){this.modal.active=!0;const s=document.getElementById("modal");setTimeout(()=>{s.classList.toggle("active")},20)},closedrop(){document.querySelectorAll(".dropdown-container").forEach(function(o){o.classList.remove("active")}),this.closemodal()},closemodal(){document.getElementById("modal").classList.remove("active"),setTimeout(()=>{this.modal.active=!1},300)},getscreenwidth(){this.position="top-end",window.screen.width<768&&(this.position="top")},notification(s,o){this.getscreenwidth(),u.mixin({toast:!0,position:this.position,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,showCloseButton:!0,didOpen:m=>{m.addEventListener("mouseenter",u.stopTimer),m.addEventListener("mouseleave",u.resumeTimer)}}).fire({icon:o,title:s})},gotoevent(s){this.$router.push({name:"Event",params:{name:s}})}}},n=s=>(z("data-v-f41077a6"),s=s(),I(),s),q={class:"landing-page-desktop"},D={class:"main-events"},A={class:"content-profile"},F=n(()=>t("div",{class:"text-center"},[t("div",{class:""},[t("span",{class:"headline-medium"},"Mis eventos")])],-1)),G={class:"event-card-container"},M=["onClick"],O=["src"],W={class:"w-100 event-pills"},j={class:"pill medium secondary tooltip"},P=["textContent"],U=["textContent"],H=["onClick"],J=n(()=>t("span",null,"Eliminar ",-1)),K=g(),Q=n(()=>t("span",{class:"material-symbols-outlined"},"close",-1)),R=[J,K,Q],X=["onClick"],Y=["textContent"],Z=n(()=>t("br",null,null,-1)),$=["textContent"],tt={class:"w-100"},et=["onClick"],st=g("Ver más "),ot=n(()=>t("span",{class:"material-symbols-outlined"},"navigate_next",-1)),at=[st,ot],nt=N('<div class="text-center" data-v-f41077a6><span class="material-symbols-outlined highlight add-icon" data-v-f41077a6>add_circle</span></div><div data-v-f41077a6><span class="title-small highlight" data-v-f41077a6>Crear evento</span></div><div class="text-center" data-v-f41077a6><span class="body-medium highlight" data-v-f41077a6>Diseña tu invitación y lista de regalos completamente gratis</span></div>',3),it=[nt],dt={class:"modal-shadow"},lt={class:"modal-header"},ct=n(()=>t("div",null,null,-1)),rt=g("Cerrar "),mt=n(()=>t("span",{class:"material-symbols-outlined"},"close",-1)),ut=[rt,mt],_t={key:0,class:"modal-body"};function ht(s,o,c,m,i,a){const x=v("nav-bar"),w=v("loader"),C=v("add-event");return d(),r("div",q,[y(x,{shownavbar:i.shownavbar},null,8,["shownavbar"]),i.loader?(d(),k(w,{key:0})):p("",!0),t("div",D,[t("div",A,[F,t("div",G,[(d(!0),r(E,null,S(i.events,(e,pt)=>(d(),r("div",{class:"event-card",style:f("background:"+e.typegender.color)},[t("div",{onClick:l(h=>e.status!=2?a.gotoevent(e.url_edit):"",["stop"]),class:"service-edit-photo pointer",style:f("background:"+e.typegender.background)},[t("img",{src:"/illustrations/"+e.typegender.illustration,loading:"lazy"},null,8,O)],12,M),t("div",W,[t("div",j,[t("span",{textContent:_(e.status==0?"En revisión (?)":e.status==1?"Aprobado (?)":e.status==3?"Observado (?)":e.status==2?"Bloqueado (?)":"Eliminado (?)")},null,8,P),t("span",{class:"body-small tooltiptext text-white",textContent:_(e.status==0?"Tu evento esta siendo revisado, y en un plazo de 72 horas se dará respuesta":e.status==1?"Tu evento ha sido aprobado satisfactoriamente":e.status==3?"Tu evento incumple nuestros términos y condiciones, contactarnos para corrección, caso contrario se procederá a bloquear el evento":e.status==2?"Tu evento se bloqueo por incumplir nuestros términos y condiciones":"Eliminado")},null,8,U)]),e.status!=2?(d(),r("div",{key:0,class:"pill medium secondary",onClick:h=>a.delete_event(e)},R,8,H)):p("",!0)]),t("div",{class:"pointer",onClick:l(h=>e.status!=2?a.gotoevent(e.url_edit):"",["stop"])},[t("span",{class:"title-small text-white",textContent:_(e.type.name+" de "+e.name)},null,8,Y),Z,t("span",{class:"body-medium text-white",textContent:_(e.date)},null,8,$)],8,X),t("div",tt,[t("div",{onClick:l(h=>e.status!=2?a.gotoevent(e.url_edit):"",["stop"]),class:"d-flex button medium tertiary"},at,8,et)])],4))),256)),t("div",{class:"add-new-event pointer",onClick:o[0]||(o[0]=l(e=>a.addeventmodal(),["stop"]))},it)])]),B(t("div",dt,[t("div",{class:L(["modal-container",i.modal.size]),onClick:o[2]||(o[2]=l(()=>{},["stop"])),id:"modal"},[t("div",lt,[ct,t("div",null,[t("button",{class:"button small tertiary",onClick:o[1]||(o[1]=l(e=>a.closemodal(!0),["stop"]))},ut)])]),i.modal.active?(d(),r("div",_t,[y(C,{onClosemodal:a.closemodal,onGetdata:a.getdata},null,8,["onClosemodal","onGetdata"])])):p("",!0)],2)],512),[[T,i.modal.active]])])])}const gt=b(V,[["render",ht],["__scopeId","data-v-f41077a6"]]);export{gt as default};
