import{_ as C,S as u,o as l,c as v,a as f,f as x,g as p,b as t,F as E,j as B,i as o,t as _,k as S,v as $,n as q,d as y,r as g,p as z,e as L,m as h}from"./app-af524dac.js";const T={data(){return{changes:!0,services:[],shownavbar:!0,fieldShow:[],modal:{active:!1,name:null,size:"md"},serviceid:null,servicename:null,loader:!1,errors:[],position:"top-end",errorform:!1,notverify:!1,navigating:!1}},mounted(){this.getdata(),this.modalservice(),document.addEventListener("click",this.closedrop)},beforeUnmount(){document.addEventListener("click",this.closedrop)},watch:{"$route.params"(e,s){if(this.navigating=!1,this.modal.active&&!this.$route.params.serviceid&&!this.$route.params.serviceindex&&(document.getElementById("modal").classList.remove("active"),setTimeout(()=>{this.modal.active=!1},300)),this.$route.params.serviceid||this.$route.params.serviceindex){this.modal.name="addservice",this.modal.size="lg",this.modal.active=!0;const a=document.getElementById("modal");setTimeout(()=>{a.classList.toggle("active")},20)}}},provide(){return{parentFunc:this.getdata}},methods:{async modalservice(){if(this.$router.options.history.state.back=="/proveedor/servicios")if(this.$route.params.serviceid||this.$route.params.serviceindex){this.modal.name="addservice",this.modal.size="lg",this.modal.active=!0;const e=document.getElementById("modal");setTimeout(()=>{e.classList.toggle("active")},20)}else this.modal.active&&(document.getElementById("modal").classList.remove("active"),setTimeout(()=>{this.modal.active=!1},300));else this.$router.replace("/proveedor/servicios")},getdata(){this.loader=!0,axios.get("/provider/userdata").then(e=>{this.services=e.data.services,this.notverify=e.data.notverify}).finally(()=>{this.loader=!1})},getscreenwidth(){this.position="top-end",window.screen.width<768&&(this.position="top")},notification(e,s){this.getscreenwidth(),u.mixin({toast:!0,position:this.position,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,showCloseButton:!0,didOpen:r=>{r.addEventListener("mouseenter",u.stopTimer),r.addEventListener("mouseleave",u.resumeTimer)}}).fire({icon:s,title:e})},select(e){document.querySelectorAll(".dropdown-container").forEach(function(r){r.id!=e&&r.classList.remove("active")}),document.getElementById(e).classList.toggle("active")},closedrop(){document.querySelectorAll(".dropdown-container").forEach(s=>{s.classList.remove("active")})},async addservicemodal(){this.modal.name="addservice",this.modal.size="lg",this.modal.active=!0,this.serviceid=null,this.navigating=!0,this.$router.push({name:"addservice",params:{serviceid:"nuevo"},query:this.$route.query})},async closemodal(e){this.modal.active&&e?this.$router.options.history.state.back=="/proveedor/servicios"?this.$router.go(-1):this.$router.replace("/proveedor/servicios"):(e==null||e==!1)&&(document.getElementById("modal").classList.remove("active"),setTimeout(()=>{this.modal.active=!1},300)),document.title="Rumba77",this.modal.name=="addservice"},editservice(e){this.modal.name="addservice",this.modal.size="lg",this.modal.active=!0,this.navigating=!0,this.serviceid=e.id,this.$router.push({name:"addservice",params:{serviceid:e.id},query:this.$route.query})},dropservice(e){u.fire({title:"¿Seguro que deseas eliminar el servicio?",text:"Se perderán todos los datos",icon:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No",customClass:{container:"xp-sweet-container-xs"}}).then(s=>{if(s.value){const a={id:e.id};axios.post("/service/delete",a).then(r=>{r.data.success&&(this.notification("Servicio eliminado","success"),this.getdata())}).catch(r=>{this.notification(r.response.data.errors[0],"error")})}})},viewservice(e){this.serviceid=e.id,this.modal.name="viewprovider",this.modal.active=!0,this.navigating=!0,this.modal.size="lg",this.$router.push({name:"viewprodservice",params:{serviceindex:e.id},query:this.$route.query})},packages(e){this.servicename=e.name,this.modal.name="viewpackages",this.modal.active=!0,this.navigating=!0,this.modal.size="lg",this.$router.push({name:"viewpackages",params:{serviceid:e.id},query:this.$route.query})},handleBeforeUnload(e){const s="¿Estás seguro de que quieres abandonar la página? Los cambios no guardados se perderán.";return e.returnValue=s,s}},beforeRouteUpdate(e,s,a){this.navigating&&s.name=="ProviderService"?a():s.name=="ProviderService"&&(e.name=="addservice"||e.name=="viewpackages"||e.name=="viewprodservice")?a(!1):a()},computed:{}},n=e=>(z("data-v-93a36ede"),e=e(),L(),e),I={class:"landing-page-desktop"},P={class:"main-profile"},V={class:"content-profile"},N=y('<div class="text-center" data-v-93a36ede><div class="" data-v-93a36ede><span class="headline-medium" data-v-93a36ede>Mis servicios</span></div></div><div data-v-93a36ede><div class="title-profile" data-v-93a36ede><div class="body-large" data-v-93a36ede> Agrega o Edita los servicios que ofreces. </div></div></div>',2),R={class:"service-edit-card-container"},F={class:"service-edit-card"},A=["onClick"],U=["src"],M=["onClick"],j=["textContent"],D={class:"service-edit-content"},W=["onClick"],H=["textContent"],O=["textContent"],G={class:"service-edit-actions"},J=["onClick"],K=n(()=>t("span",{class:"material-symbols-outlined"},"visibility",-1)),Q=h("Ver servicio"),X=[K,Q],Y=["onClick"],Z=n(()=>t("span",{class:"material-symbols-outlined"},"edit",-1)),ee=h("Editar servicio"),te=[Z,ee],se=["onClick"],ie=n(()=>t("span",{class:"material-symbols-outlined"},"box_add",-1)),oe=h("Editar Paquetes"),ae=[ie,oe],de=["onClick"],ne=n(()=>t("span",{class:"material-symbols-outlined"},"delete",-1)),re=h("Eliminar Servicio"),ce=[ne,re],le={class:"service-edit-card"},ve=n(()=>t("span",{class:"material-symbols-outlined highlight"},"add_circle",-1)),me=[ve],he=n(()=>t("div",{class:"label-large highlight"}," Agregar servicio ",-1)),ue=[he],pe={key:0,class:"body-large text-justify"},_e=n(()=>t("span",null,"* Cuando un servicio tiene el Estado: Por verificar, el equipo de Rumba77 revisará el servicio durante un plazo de 72hrs, si todo los datos son correctos se actualiza a Verificado y podrá mostrarse en el Buscar Proveedores, caso contrario tendrá estado Rechazado.",-1)),ge=[_e],fe={class:"personal-form"},ye={class:"dropdown-container",id:"help"},be=n(()=>t("span",{class:"title-medium"},"¿Necesitas ayuda?",-1)),we=n(()=>t("span",{class:"material-symbols-outlined icon"},"expand_more",-1)),ke=[be,we],Ce={class:"dropdown-content-relative mt-3"},xe=y('<a class="button small tertiary icon-text" href="https://wa.me/+51907327913?text=Hola%2C%20vengo%20desde%20la%20web%20de%20Rumba77%2C%20necesito%20ayuda" target="_blank" data-v-93a36ede><img src="/img/whatsapp-black.svg" class="icon-primary violet" data-v-93a36ede><div class="" data-v-93a36ede>907 327 913</div></a><a class="button small tertiary icon-text" href="https://web.facebook.com/rumba77.oficial" target="_blank" data-v-93a36ede><img src="/img/facebook-white.svg" class="icon-primary violet" data-v-93a36ede><div class="" data-v-93a36ede>Rumba77</div></a><a class="button small tertiary icon-text" href="mailto:hola@rumba77.com" data-v-93a36ede><span class="material-symbols-outlined icon-left highlight" data-v-93a36ede>mail</span><div class="" data-v-93a36ede>hola@rumba77.com</div></a>',3),Ee=[xe],Be={class:"modal-shadow"},Se={class:"modal-header"},$e=n(()=>t("div",null,null,-1)),qe=h("Cerrar "),ze=n(()=>t("span",{class:"material-symbols-outlined"},"close",-1)),Le=[qe,ze],Te={key:0,class:"modal-body"};function Ie(e,s,a,r,c,d){const b=g("nav-bar"),w=g("loader"),k=g("router-view");return l(),v("div",I,[f(b,{shownavbar:c.shownavbar},null,8,["shownavbar"]),c.loader?(l(),x(w,{key:0})):p("",!0),t("div",P,[t("div",V,[N,t("div",R,[c.services.length>0?(l(!0),v(E,{key:0},B(c.services,i=>(l(),v("div",F,[i.logo?(l(),v("div",{key:0,class:"service-edit-photo pointer",onClick:o(m=>d.viewservice(i),["stop"])},[t("img",{src:i.urllogo,loading:"lazy"},null,8,U)],8,A)):(l(),v("div",{key:1,class:"service-initial pointer",onClick:o(m=>d.viewservice(i),["stop"])},[t("span",{class:"headline-large text-white",textContent:_(i.initial)},null,8,j)],8,M)),t("div",D,[t("div",{class:"pointer",onClick:o(m=>d.viewservice(i),["stop"])},[t("span",{class:"title-mini lb-a",textContent:_(i.name.toUpperCase())},null,8,H)],8,W),t("div",null,[t("span",{class:"label-large",textContent:_(i.status==0?"Estado: Por verificar":i.status==1?"Estado: Verificado":"Estado: Rechazado")},null,8,O)]),t("div",G,[t("a",{class:"icon-text highlight label-medium",onClick:o(m=>d.viewservice(i),["stop"])},X,8,J),t("a",{class:"icon-text highlight label-medium",onClick:o(m=>d.editservice(i),["stop"])},te,8,Y),t("a",{class:"icon-text highlight label-medium",onClick:o(m=>d.packages(i),["stop"])},ae,8,se),t("a",{class:"icon-text red-700 label-medium",onClick:o(m=>d.dropservice(i),["stop"])},ce,8,de)])])]))),256)):p("",!0),t("div",le,[t("div",{class:"service-more-photo pointer",onClick:s[0]||(s[0]=o(i=>d.addservicemodal(),["stop"]))},me),t("div",{class:"service-edit-content pointer",onClick:s[1]||(s[1]=o(i=>d.addservicemodal(),["stop"]))},ue)])]),c.notverify?(l(),v("div",pe,ge)):p("",!0),t("div",fe,[t("div",ye,[t("div",{class:"button medium tertiary title-accordion pointer",onClick:s[2]||(s[2]=o(i=>d.select("help"),["stop"]))},ke),t("div",Ce,[t("div",{class:"input-group-profile",onClick:s[3]||(s[3]=o(()=>{},["stop"]))},Ee)])])])]),S(t("div",Be,[t("div",{class:q(["modal-container",c.modal.size]),onClick:s[5]||(s[5]=o(()=>{},["stop"])),id:"modal"},[t("div",Se,[$e,t("div",null,[t("button",{class:"button small tertiary",onClick:s[4]||(s[4]=o(i=>d.closemodal(!0),["stop"]))},Le)])]),c.modal.active?(l(),v("div",Te,[f(k,{parentFunc:e.parentFunc},null,8,["parentFunc"])])):p("",!0)],2)],512),[[$,c.modal.active]])])])}const Ve=C(T,[["render",Ie],["__scopeId","data-v-93a36ede"]]);export{Ve as default};
